(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6467"],{"30Qo":function(e,t,a){"use strict";var n=a("5DVq");a.n(n).a},"3odT":function(e,t,a){"use strict";var n={methods:{cancelHandle:function(){this.$emit("cancelHandle")},confirmHandle:function(){this.$emit("confirmHandle")}}},i=(a("jVNQ"),a("KHd+")),o=Object(i.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticClass:"global-container",attrs:{direction:"vertical"}},[this._t("main-content"),this._v(" "),t("footer",{staticClass:"footer-btn-bar"},[t("div",{staticClass:"btn-warp"},[t("el-button",{attrs:{size:"small"},on:{click:this.cancelHandle}},[this._v("取消")]),this._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:this.confirmHandle}},[this._v("确定")])],1)])],2)},[],!1,null,"4e9bfc63",null);o.options.__file="index.vue";t.a=o.exports},"5DVq":function(e,t,a){var n=a("mp0y");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("5e669ca7",n,!0,{})},"9bFq":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".el-container[data-v-4e9bfc63] {\n  padding: 20px 20px 100px 20px;\n  width: 100%;\n}\n.el-container .footer-btn-bar[data-v-4e9bfc63] {\n    height: 80px;\n    line-height: 85px;\n    position: fixed;\n    bottom: 0;\n    right: 0;\n    background: #fff;\n    border-top: 2px solid #ccc;\n}\n.el-container .footer-btn-bar .btn-warp[data-v-4e9bfc63] {\n      float: right;\n      margin-right: 30px;\n}\n",""])},B5hT:function(e,t,a){"use strict";var n=a("D84E");a.n(n).a},D84E:function(e,t,a){var n=a("qVT/");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2895413c",n,!0,{})},IP1Z:function(e,t,a){"use strict";var n=a("2faE"),i=a("rr1i");e.exports=function(e,t,a){t in e?n.f(e,t,i(0,a)):e[t]=a}},OPoA:function(e,t,a){"use strict";var n=a("bIy4");a.n(n).a},YDJt:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".header[data-v-75a9da53] {\n  height: 50px;\n  padding: 0 15px;\n  font-size: 18px;\n  font-weight: bold;\n  background: #fff;\n  border-bottom: 1px solid #ccc;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.stage-info-watp[data-v-75a9da53] {\n  padding: 0;\n  background: #fff;\n}\n.stage-info-watp .stage-Info-form[data-v-75a9da53] {\n    padding: 20px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-flow: row;\n            flex-flow: row;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.stage-info-watp .stage-Info-form .el-form-item[data-v-75a9da53] {\n      width: 27%;\n      margin: 10px 3%;\n}\n.stage-info-watp .stage-Info-form .el-form-item .el-input .el-button[data-v-75a9da53] {\n        padding: 8px 5px;\n}\n.stage-info-watp .stage-Info-form .el-form-item .el-input[data-v-75a9da53] .el-input-group__append {\n        padding: 0 7px;\n}\n.stage-info-watp .stage-Info-form .el-form-item .el-select[data-v-75a9da53] {\n        width: 100%;\n}\n.stage-info-watp .stage-Info-form .el-form-item .city-selects-wrap[data-v-75a9da53] {\n        width: 100%;\n        display: inline-block;\n        text-align: center;\n        font-size: 0;\n}\n.stage-info-watp .stage-Info-form .el-form-item .city-selects-wrap .el-select[data-v-75a9da53] {\n          width: 30%;\n}\n.stage-info-watp .stage-Info-form .el-form-item .city-selects-wrap .city-selects-interval[data-v-75a9da53] {\n          width: 3%;\n          margin: 0 1%;\n          display: inline-block;\n          border: 1px solid #ccc;\n}\n.stage-info-watp .aerialview-upload-wrap[data-v-75a9da53] {\n    padding: 0 20px 30px 20px;\n    margin-left: 3%;\n}\n.stage-info-watp .aerialview-upload-wrap .title-text[data-v-75a9da53] {\n      font-size: 14px;\n      margin-left: 10px;\n}\n.stage-info-watp .aerialview-upload-wrap[data-v-75a9da53] .el-upload {\n      width: 130px;\n      height: 130px;\n      margin-top: 15px;\n      border: 1px dashed #d9d9d9;\n      border-radius: 6px;\n      overflow: hidden;\n      background: #fbfdff;\n      cursor: pointer;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -ms-flex-wrap: nowrap;\n          flex-wrap: nowrap;\n}\n.stage-info-watp .aerialview-upload-wrap[data-v-75a9da53] .el-upload img {\n        display: none;\n        width: 85%;\n}\n.stage-info-watp .aerialview-upload-wrap[data-v-75a9da53] .el-upload i {\n        font-size: 46px;\n        color: #ccc;\n}\n.stage-info-watp .aerialview-upload-wrap[data-v-75a9da53] .uploaded {\n      background: #fff;\n}\n.stage-info-watp .aerialview-upload-wrap[data-v-75a9da53] .uploaded i {\n        display: none;\n}\n.stage-info-watp .aerialview-upload-wrap[data-v-75a9da53] .uploaded img {\n        display: block;\n}\n.house-type-wrap[data-v-75a9da53] {\n  padding: 0;\n  background: #fff;\n  margin-top: 20px;\n}\n.house-type-wrap .table-wrap[data-v-75a9da53] {\n    padding: 20px;\n}\n.house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] {\n      border: 1px solid #ccc;\n      border-bottom: none;\n}\n.house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .el-table__header th {\n        padding: 8px;\n        background: #f0f1f5;\n        border-bottom: 1px solid #ccc;\n}\n.house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .el-table__row .td-input {\n        display: none;\n}\n.house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .el-table__row .save-btn {\n        display: none;\n        margin-left: 10px;\n}\n.house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .el-table__row .el-input-group__append {\n        padding: 0 8px;\n}\n.house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .add-house-type-row .td-input, .house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .add-house-type-row .save-btn {\n        display: inline-table;\n}\n.house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .add-house-type-row .td-text, .house-type-wrap .table-wrap .house-type-table[data-v-75a9da53] .add-house-type-row .edit-btn {\n        display: none;\n}\n.house-type-wrap .add-house-property-btn[data-v-75a9da53] {\n    width: 100%;\n    border: 1px dashed #ccc;\n    margin-top: 10px;\n}\n.house-type-wrap .add-house-property-btn[data-v-75a9da53]:hover {\n      border-color: #409EFF;\n}\n[data-v-75a9da53] .el-popper {\n  margin-top: 0;\n}\n",""])},aUAR:function(e,t,a){"use strict";a.r(t);var n=a("kOy/"),i=a.n(n),o=a("GQeE"),r=a.n(o),s=a("QbLZ"),l=a.n(s),c=a("no60"),d=a("L2JU"),p=a("ybcg"),u=a("6egs"),f={components:{PublicPopups:a("xQeI").a},props:{isAddHouseTypeShow:{type:Boolean,default:!1},editHouseTypeData:{type:Object,default:function(){return{}}},eventType:{type:String,default:""}},data:function(){return{houseTypeForm:{name:"",structure:"",constructionArea:""},houseTypeRules:{name:[{required:!0,trigger:"blur",message:"户型名称不能为空"}],structure:[{required:!0,trigger:"blur",message:"户型结构不能为空"}],constructionArea:[{required:!0,trigger:"blur",message:"户型面积不能为空"}]},isLoading:!1}},watch:{isAddHouseTypeShow:function(e){e&&(this.$refs.houseTypeForm.resetFields(),"edit"===this.eventType&&this.handleEditData())}},methods:{handleEditData:function(){var e=this,t=r()(this.houseTypeForm);t.length>0&&t.forEach(function(t){e.houseTypeForm[t]=e.editHouseTypeData[t]})},addHouseTypeHandle:function(){var e=this;this.$refs.houseTypeForm.validate(function(t){if(t){var a=e.houseTypeForm;e.$emit("houseTypeHandle",a),e.closeBox()}})},closeBox:function(){this.$emit("update:isAddHouseTypeShow",!1)}}},m=(a("B5hT"),a("KHd+")),h=Object(m.a)(f,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("publicPopups",e._g({attrs:{"title-text":"增加户型"},on:{formConfirm:e.addHouseTypeHandle,closePopupsBox:e.closeBox}},e.$listeners),[a("template",{slot:"main-content"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"houseTypeForm",staticClass:"add-project-from",attrs:{model:e.houseTypeForm,rules:e.houseTypeRules}},[a("el-form-item",{attrs:{label:"户型名称",prop:"name"}},[a("el-input",{model:{value:e.houseTypeForm.name,callback:function(t){e.$set(e.houseTypeForm,"name",t)},expression:"houseTypeForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"户型结构",prop:"structure"}},[a("el-input",{model:{value:e.houseTypeForm.structure,callback:function(t){e.$set(e.houseTypeForm,"structure",t)},expression:"houseTypeForm.structure"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"户型面积",prop:"constructionArea"}},[a("el-input",{model:{value:e.houseTypeForm.constructionArea,callback:function(t){e.$set(e.houseTypeForm,"constructionArea",t)},expression:"houseTypeForm.constructionArea"}},[a("span",{staticClass:"area-text",attrs:{slot:"append"},slot:"append"},[e._v("㎡")])])],1)],1)],1)],2)},[],!1,null,"05901a97",null);h.options.__file="addHouseType.vue";var y={components:{AddHouseType:h.exports,FooterBarContainer:a("3odT").a},data:function(){var e=this;return{stageFormData:{parentId:"",type:1,status:"",name:"",code:"",address:"",orgId:"",estateProjectDetailEntity:{typeId:"",cityId:"",constructionStage:"",constructionArea:"",deliveryType:"",aerialView:"",houseTypeEntityList:[]}},stageFormRules:{name:[{required:!0,trigger:"blur",message:"项目名称不能为空"}],code:[{required:!0,trigger:"blur",message:"项目编码不能为空"}],status:[{required:!0,trigger:"change",message:"请选择状态"}],estateProjectDetailEntity:{cityId:[{required:!0,trigger:"blur",validator:function(t,a,n){""!==e.provinceSelected&&""!==e.citySelected&&(console.log("val",a),""===a?n(new Error("请选择城市")):n())}}],typeId:[{required:!0,trigger:"change",message:"请选择项目状态"}]}},houseTypeForm:{name:"",structure:"",constructionArea:""},projectStatus:[],deliveryType:[],constructionType:[],districtData:[],cityData:[],provinceData:[],enableStatus:[{id:0,value:"禁用"},{id:1,value:"启用"}],belongCompany:"",houseTypeData:[],provinceSelected:"",citySelected:"",selectDectionary:{projectStatus:{dictId:"project_status"},constructionType:{dictId:"construction_type"},deliveryType:{dictId:"delivery_type"},districtData:{dictId:"city",parentId:""},cityData:{dictId:"city",parentId:""},provinceData:{dictId:"city",parentId:"-1"}},allCityData:[],allCityIndex:{},stageLoading:!1,selectLoading:!1,isUploadAerialview:!1}},computed:l()({},Object(d.c)(["projectList","projectDetails"])),watch:{provinceSelected:function(e,t){""!==e&&e!==t&&(this.selectDectionary.cityData.parentId=e,this.cityData=[],this.getSelectData(!0,"cityData"))},citySelected:function(e,t){""!==e&&e!==t&&(this.selectDectionary.districtData.parentId=e,this.districtData=[],this.getSelectData(!0,"districtData"))},"stageFormData.estateProjectDetailEntity.cityId":function(e){var t=this,a=this.$route.query.eventType;if(0===this.districtData.length&&"edit"===a){this.getDictionaryItemFunc({params:{"terms[0].column":"dictId","terms[0].value":"city"},dataKey:""}).then(function(a){t.handleAllCityData(a,e),t.stageLoading=!1})}}},created:function(){var e=this,t=this.$route.query.projectId,a=this.$route.query.eventType;if("add"===a){var n=Object(p.g)(this.projectList,"id",t);this.stageFormData.parentId=t,this.stageFormData.orgId=n.orgId,n&&(this.belongCompany=n.name)}else if("edit"===a){var i=Object(p.g)(this.projectDetails,"id",t);if(i){this.stageLoading=!0;var o=i.parentId,s=r()(i),l=Object(p.g)(this.projectList,"id",o);l&&(this.belongCompany=l.name),s.forEach(function(t){e.stageFormData[t]=i[t]});var c=["provinceData","districtData","cityData"];r()(this.selectDectionary).forEach(function(t){0!==e[t].length||c.includes(t)||e.getSelectData(!0,t)}),this.houseTypeData=i.estateProjectDetailEntity.houseTypeEntityList||[]}}},methods:l()({},Object(d.b)(["getDictionaryItemFunc"]),{tableRowClassHandle:function(e){var t=e.row;e.rowIndex;if(t.virtual)return"add-house-type-row"},handleAllCityData:function(e,t){var a=this,n=[];e.forEach(function(e){if("-1"===e.parentId)a.allCityData.push(e),a.provinceData.push(e),a.allCityIndex[e.id]=[];else{var o=r()(a.allCityIndex),s=o.indexOf(e.parentId);if(s>=0){var l=a.allCityData[s];l.children?l.children.push(e):l.children=i()(e),a.allCityIndex[o[s]].push(e.id)}else o.length?o.forEach(function(o,r){var s=a.allCityIndex[o].indexOf(e.parentId);if(s>=0){var l=a.allCityData[r].children[s];l.children?l.children.push(e):l.children=i()(e),t===e.id&&(a.provinceSelected=o,a.citySelected=e.parentId)}else n.push(e)}):n.push(e)}}),n.length>0&&this.handleAllCityData(n,t)},getSelectData:function(e,t){var a=this;if(e&&0===this[t].length){this.selectLoading=!0;var n=this.selectDectionary[t],i={};r()(n).forEach(function(e,t){""!==n[e]&&(i["terms["+t+"].column"]=e,i["terms["+t+"].value"]=n[e])}),this.getDictionaryItemFunc({params:i,dataKey:t}).then(function(e){a[t]=e,a.selectLoading=!1})}},addHouseTypeCtrl:function(){if(!this.houseTypeData.filter(function(e){if(e.virtual)return!0}).length){this.houseTypeData.push({name:"",structure:"",constructionArea:"",virtual:!0})}},addHouseTypeHandle:function(e,t){if(""!==this.houseTypeForm.name&&""!==this.houseTypeForm.structure&&""!==this.houseTypeForm.constructionArea){var a={name:this.houseTypeForm.name,structure:this.houseTypeForm.structure,constructionArea:this.houseTypeForm.constructionArea};e===this.houseTypeData.length-1?(this.houseTypeData=this.houseTypeData.filter(function(e){if(!e.virtual)return!0}),this.houseTypeData.push(a)):this.houseTypeData[e]=a,this.stageFormData.estateProjectDetailEntity.houseTypeEntityList=this.houseTypeData,this.houseTypeForm=Object(p.d)(this.houseTypeForm)}else this.$message({type:"warning",message:"请填写完整数据"})},editHouseTypeHandle:function(e){var t=this;r()(this.houseTypeForm).forEach(function(a){t.houseTypeForm[a]=e[a]}),this.$set(e,"virtual",!0)},deleteHoseType:function(e,t){this.houseTypeData.splice(e,1),this.stageFormData.estateProjectDetailEntity.houseTypeEntityList=this.houseTypeData},uploadAerialview:function(e){var t=this,a=e.file;this.isUploadAerialview=!0,Object(c.a)(a,"aerialview").then(function(e){t.stageFormData.estateProjectDetailEntity.aerialView=e.url,t.isUploadAerialview=!1})},submitHandle:function(){var e=this;this.$refs.stageForm.validate(function(t){if(t){if(e.isUploadAerialview)return void e.$alert("正在上传鸟瞰图，请等待上传完！","提示",{confirmButtonText:"确定"});e.stageLoading=!0;var a=void 0,n=void 0,i=e.$route.query.eventType;console.log("this.stageFormData",e.stageFormData),"add"===i?(a=Object(u.b)(e.stageFormData),n="新增项目分期成功"):"edit"===i&&(a=Object(u.e)(e.stageFormData),n="编辑项目分期成功"),a.then(function(t){e.stageLoading=!1,e.$router.go(-1),e.$message({message:n,type:"success"})}).catch(function(){e.stageLoading=!1})}})},cancelHandle:function(){var e=this;this.isUploadAerialview?this.$confirm("正在上传鸟瞰图，退出会中断上传，是否退出？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.go(-1)}):this.$router.go(-1)}})},g=(a("OPoA"),Object(m.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footerBarContainer",{directives:[{name:"loading",rawName:"v-loading",value:e.stageLoading,expression:"stageLoading"}],on:{cancelHandle:e.cancelHandle,confirmHandle:e.submitHandle}},[a("template",{slot:"main-content"},[a("el-main",{staticClass:"stage-info-watp"},[a("div",{staticClass:"header"},[a("span",[e._v("基础信息")])]),e._v(" "),a("el-form",{ref:"stageForm",staticClass:"stage-Info-form",attrs:{model:e.stageFormData,rules:e.stageFormRules}},[a("el-form-item",{attrs:{prop:"name",label:"项目名称"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入项目名称"},model:{value:e.stageFormData.name,callback:function(t){e.$set(e.stageFormData,"name",t)},expression:"stageFormData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"code",label:"项目编码"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入项目编码"},model:{value:e.stageFormData.code,callback:function(t){e.$set(e.stageFormData,"code",t)},expression:"stageFormData.code"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"address",label:"项目地址"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入地址"},model:{value:e.stageFormData.address,callback:function(t){e.$set(e.stageFormData,"address",t)},expression:"stageFormData.address"}},[a("a",{attrs:{slot:"append",href:"https://lbs.amap.com/console/show/picker",target:"_blank"},slot:"append"},[e._v("查询经纬度")])])],1),e._v(" "),a("el-form-item",{attrs:{prop:"estateProjectDetailEntity.typeId",label:"项目状态"}},[a("el-select",{attrs:{loading:e.selectLoading,size:"small",clearable:"",placeholder:"请选择"},on:{"visible-change":function(t){return e.getSelectData(t,"projectStatus")}},model:{value:e.stageFormData.estateProjectDetailEntity.typeId,callback:function(t){e.$set(e.stageFormData.estateProjectDetailEntity,"typeId",t)},expression:"stageFormData.estateProjectDetailEntity.typeId"}},e._l(e.projectStatus,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属公司"}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.belongCompany,callback:function(t){e.belongCompany=t},expression:"belongCompany"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"estateProjectDetailEntity.cityId",label:"所在城市"}},[a("div",{staticClass:"city-selects-wrap"},[a("el-select",{attrs:{loading:e.selectLoading,size:"small",clearable:"",placeholder:"省"},on:{"visible-change":function(t){return e.getSelectData(t,"provinceData")}},model:{value:e.provinceSelected,callback:function(t){e.provinceSelected=t},expression:"provinceSelected"}},e._l(e.provinceData,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})})),e._v(" "),a("i",{staticClass:"city-selects-interval"}),e._v(" "),a("el-select",{attrs:{loading:e.selectLoading,size:"small",clearable:"",placeholder:"市"},model:{value:e.citySelected,callback:function(t){e.citySelected=t},expression:"citySelected"}},e._l(e.cityData,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})})),e._v(" "),a("i",{staticClass:"city-selects-interval"}),e._v(" "),a("el-select",{attrs:{loading:e.selectLoading,size:"small",clearable:"",placeholder:"区"},model:{value:e.stageFormData.estateProjectDetailEntity.cityId,callback:function(t){e.$set(e.stageFormData.estateProjectDetailEntity,"cityId",t)},expression:"stageFormData.estateProjectDetailEntity.cityId"}},e._l(e.districtData,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{prop:"status",label:"状态"}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.stageFormData.status,callback:function(t){e.$set(e.stageFormData,"status",t)},expression:"stageFormData.status"}},e._l(e.enableStatus,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"建筑面积"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入面积"},model:{value:e.stageFormData.estateProjectDetailEntity.constructionArea,callback:function(t){e.$set(e.stageFormData.estateProjectDetailEntity,"constructionArea",t)},expression:"stageFormData.estateProjectDetailEntity.constructionArea"}},[a("span",{staticClass:"area-text",attrs:{slot:"append"},slot:"append"},[e._v("㎡")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"交付类型"}},[a("el-select",{attrs:{loading:e.selectLoading,size:"small",clearable:"",placeholder:"请选择"},on:{"visible-change":function(t){return e.getSelectData(t,"deliveryType")}},model:{value:e.stageFormData.estateProjectDetailEntity.deliveryType,callback:function(t){e.$set(e.stageFormData.estateProjectDetailEntity,"deliveryType",t)},expression:"stageFormData.estateProjectDetailEntity.deliveryType"}},e._l(e.deliveryType,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"施工阶段"}},[a("el-select",{attrs:{loading:e.selectLoading,size:"small",clearable:"",placeholder:"请选择"},on:{"visible-change":function(t){return e.getSelectData(t,"constructionType")}},model:{value:e.stageFormData.estateProjectDetailEntity.constructionStage,callback:function(t){e.$set(e.stageFormData.estateProjectDetailEntity,"constructionStage",t)},expression:"stageFormData.estateProjectDetailEntity.constructionStage"}},e._l(e.constructionType,function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"aerialview-upload-wrap"},[a("span",{staticClass:"title-text"},[e._v("上传鸟瞰图 (建议不超过50M)")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.isUploadAerialview,expression:"isUploadAerialview"}],class:{uploaded:""!==e.stageFormData.estateProjectDetailEntity.aerialView},attrs:{"http-request":e.uploadAerialview,"show-file-list":!1,action:""}},[a("img",{attrs:{src:e.GetOssImgFullPath(e.stageFormData.estateProjectDetailEntity.aerialView)}}),e._v(" "),a("i",{staticClass:"el-icon-plus"})])],1)],1),e._v(" "),a("el-main",{staticClass:"house-type-wrap"},[a("div",{staticClass:"header"},[a("span",[e._v("户型")])]),e._v(" "),a("div",{staticClass:"table-wrap"},[a("el-table",{staticClass:"house-type-table",attrs:{data:e.houseTypeData,"row-class-name":e.tableRowClassHandle}},[[a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"td-text"},[e._v(e._s(t.row.name))]),e._v(" "),a("el-input",{staticClass:"td-input",attrs:{size:"small",placeholder:"请输入名称"},model:{value:e.houseTypeForm.name,callback:function(t){e.$set(e.houseTypeForm,"name",t)},expression:"houseTypeForm.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"constructionArea",label:"面积",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"td-text"},[e._v(e._s(t.row.constructionArea))]),e._v(" "),a("el-input",{staticClass:"td-input",attrs:{size:"small",placeholder:"请输入面积"},model:{value:e.houseTypeForm.constructionArea,callback:function(t){e.$set(e.houseTypeForm,"constructionArea",t)},expression:"houseTypeForm.constructionArea"}},[a("span",{staticClass:"input-area-text",attrs:{slot:"append"},slot:"append"},[e._v("㎡")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"structure",label:"房间结构",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"td-text"},[e._v(e._s(t.row.structure))]),e._v(" "),a("el-input",{staticClass:"td-input",attrs:{size:"small",placeholder:"请输入户型结构"},model:{value:e.houseTypeForm.structure,callback:function(t){e.$set(e.houseTypeForm,"structure",t)},expression:"houseTypeForm.structure"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"save-btn",attrs:{size:"mini",type:"primary"},on:{click:function(a){e.addHouseTypeHandle(t.$index,t.row)}}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"edit-btn",attrs:{size:"mini",type:"primary"},on:{click:function(a){e.editHouseTypeHandle(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.deleteHoseType(t.$index,t.row)}}},[e._v("删除")])]}}])})]],2),e._v(" "),a("el-button",{staticClass:"add-house-property-btn",attrs:{size:"small",plain:""},on:{click:e.addHouseTypeCtrl}},[a("i",{staticClass:"el-icon-plus"}),e._v("\n          新增属性\n        ")])],1)])],1)],2)},[],!1,null,"75a9da53",null));g.options.__file="projectStage.vue";t.default=g.exports},bIy4:function(e,t,a){var n=a("YDJt");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("3fe998ba",n,!0,{})},hQyo:function(e,t,a){"use strict";var n=a("Y7ZC"),i=a("IP1Z");n(n.S+n.F*a("KUxP")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,a=new("function"==typeof this?this:Array)(t);t>e;)i(a,e,arguments[e++]);return a.length=t,a}})},jVNQ:function(e,t,a){"use strict";var n=a("qv+O");a.n(n).a},"kOy/":function(e,t,a){e.exports={default:a("oiKw"),__esModule:!0}},mp0y:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".container-shadow[data-v-001e034e] {\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.container-shadow .container[data-v-001e034e] {\n    border-radius: 10px;\n    -webkit-box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2);\n            box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2);\n    background: #fff;\n    overflow: hidden;\n}\n.container-shadow .container .header[data-v-001e034e] {\n      padding: 10px 5px 10px 20px;\n      background: #e6e6e6;\n      height: 50px;\n      line-height: 32px;\n      font-size: 18px;\n}\n.container-shadow .container .header i[data-v-001e034e] {\n        cursor: pointer;\n        float: right;\n        color: #f00;\n        font-size: 30px;\n}\n.container-shadow .container .main[data-v-001e034e] {\n      padding: 1px 20px;\n      max-height: calc(100vh - 140px);\n      overflow: auto;\n}\n.container-shadow .container .main.border-bottom[data-v-001e034e] {\n        border-bottom: 1px solid #ccc;\n}\n.container-shadow .container .footer[data-v-001e034e] {\n      min-height: 70px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.container-shadow .container .footer .el-button[data-v-001e034e] {\n        margin: 0 20px;\n}\n",""])},no60:function(e,t,a){"use strict";var n=a("4d7F"),i=a.n(n),o=a("t3Un");var r=a("ybcg"),s=a("gjeX"),l=a.n(s);a.d(t,"a",function(){return u});var c=a("mxV5"),d="estate-dev",p="oss-cn-shenzhen.aliyuncs.com";function u(e,t){return new i.a(function(a,n){Object(o.a)({url:"/sts/get",method:"get"}).then(function(i){var o=i.result,s=new c({accessKeyId:o.accessKeyId,accessKeySecret:o.accessKeySecret,bucket:d,endpoint:p,stsToken:o.securityToken}),u=Object(r.e)(8),f=e.name.split("."),m=f[f.length-1],h=l()(t+"_"+Date.parse(new Date)+"_"+u)+"."+m;console.log("__fileName",h),s.put(h,e,{ContentType:"image/jpeg"}).then(function(e){var t=e.res,n=(e.url,e.name);a({res:t,url:h,name:n})}).catch(function(e){n(e)})}).catch(function(e){n(e)})})}},oiKw:function(e,t,a){a("hQyo"),e.exports=a("WEpk").Array.of},"qVT/":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".add-project-from .el-form-item[data-v-05901a97] {\n  margin: 20px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.add-project-from .el-form-item .el-input[data-v-05901a97] {\n    width: 300px;\n}\n.add-project-from .el-form-item .el-select[data-v-05901a97] {\n    width: 300px;\n}\n",""])},"qv+O":function(e,t,a){var n=a("9bFq");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("5f37388c",n,!0,{})},xQeI:function(e,t,a){"use strict";var n={name:"PublicPopups",props:{titleText:{type:String,default:""},width:{type:String,default:"500px"},mainBorder:{type:Boolean,default:!1}},data:function(){return{popShow:!1}},methods:{emitClosePop:function(){this.$emit("closePopupsBox")},emitConfirm:function(){this.$emit("formConfirm")}}},i=(a("30Qo"),a("KHd+")),o=Object(i.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-shadow"},[a("div",{staticClass:"container",style:{width:e.width}},[a("header",{staticClass:"header",attrs:{height:"50"}},[a("span",[e._v(e._s(e.titleText))]),e._v(" "),a("i",{staticClass:"el-icon-error",on:{click:e.emitClosePop}})]),e._v(" "),a("main",{staticClass:"main",class:{"border-bottom":e.mainBorder}},[e._t("main-content")],2),e._v(" "),a("footer",{staticClass:"footer"},[e._t("footer-content",[a("el-button",{attrs:{size:"small"},on:{click:e.emitClosePop}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.emitConfirm}},[e._v("确定")])])],2)])])},[],!1,null,"001e034e",null);o.options.__file="PublicPopups.vue";t.a=o.exports},ybcg:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"d",function(){return d}),a.d(t,"g",function(){return p}),a.d(t,"f",function(){return u}),a.d(t,"e",function(){return f}),a.d(t,"b",function(){return m}),a.d(t,"c",function(){return h});var n=a("FyfS"),i=a.n(n),o=a("GQeE"),r=a.n(o),s=a("EJiy"),l=a.n(s);function c(e){var t=("object"===(void 0===e?"undefined":l()(e))||"function"==typeof e)&&null!==e;if(!t)return e;var a=Array.isArray(e)?[]:{};for(var n in e)a[n]=t?c(e[n]):e[n];return a}function d(e){if(Array.isArray(e))return e.splice(0,e.length);if("object"===(void 0===e?"undefined":l()(e))){var t={};return r()(e).forEach(function(a){var n=e[a];Array.isArray(n)?t[a]=[]:null===n?t[a]=null:"object"===(void 0===n?"undefined":l()(n))?t[a]=d(n):"string"==typeof n?t[a]="":"number"==typeof n&&(t[a]="")}),t}}function p(e,t,a){var n=void 0,o=!0,s=!1,c=void 0;try{for(var d,u=i()(e);!(o=(d=u.next()).done);o=!0){var f=d.value;if("object"===(void 0===f?"undefined":l()(f))){if(f[t]===a){n=f;break}var m=r()(f),h=!0,y=!1,g=void 0;try{for(var v,b=i()(m);!(h=(v=b.next()).done);h=!0){var w=v.value;if(Array.isArray(f[w])){var x=p(f[w],t,a);if(x){n=x;break}}}}catch(e){y=!0,g=e}finally{try{!h&&b.return&&b.return()}finally{if(y)throw g}}}}}catch(e){s=!0,c=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw c}}return n}function u(e){return"object"===(void 0===e?"undefined":l()(e))?0===r()(e).length:Array.isArray(e)?0===e.length:void 0}function f(e,t){for(var a="",n=t||"abcdefghijklmnopqrstuvwxyz0123456789",i=function(e){return Math.random()*e.length};a.length<e;)a+=n.charAt(i(n));return a}function m(e){return Number(e)>9?e:"0"+e}function h(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}}}]);